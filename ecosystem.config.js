module.exports = {
  apps: [
    {
      name: 'api',
      cwd: '/home/ubuntu/cslai',
      script: 'node',
      args: 'apps/api/dist/main.js',
      env: {
        NODE_ENV: 'production',
        PORT: 3001,
        DATABASE_URL: 'postgresql://intel:intel_dev_pass@localhost:5432/company_intel_dev?schema=public',
        REDIS_HOST: 'localhost',
        REDIS_PORT: 6379,
        REDIS_PASSWORD: '',
        REDIS_URL: 'redis://localhost:6379',
        JWT_SECRET: 'd99147b6a14cac6c2587511d4fdd50b928947b9f15bcb9d1729b72cd0474bca56463164e5503f7795b210cac0499a4a9dcae179f045ce4343d77674c49ef2edd',
        JWT_ACCESS_SECRET: 'd99147b6a14cac6c2587511d4fdd50b928947b9f15bcb9d1729b72cd0474bca56463164e5503f7795b210cac0499a4a9dcae179f045ce4343d77674c49ef2edd',
        JWT_REFRESH_SECRET: 'dcd7b8782ffddfca0f4092e316fe749170938994798673db835fd0fe0f8da509380997e67950dc585e5fcb7e1fa62daec590e47a8bffa74bbb32d04a8ca0e9f5',
        JWT_ACCESS_EXPIRES_IN: '15m',
        JWT_REFRESH_EXPIRES_IN: '7d',
        ENCRYPTION_KEY: '432a7605fa4493d4220798a6ffd46f219970ea8cee8ad75a5822e676e2d59335',
        CORS_ORIGINS: 'http://localhost:3000,https://cslai.corporatespec.com',
        RATE_LIMIT_WINDOW_MS: 60000,
        RATE_LIMIT_MAX_REQUESTS: 60,
        SLACK_SIGNING_SECRET: 'dev_signing_secret_changeme',
        SLACK_BOT_TOKEN: 'xoxb-dev-token-changeme',
        OPENAI_API_KEY: 'sk-changeme',
        ANTHROPIC_API_KEY: 'sk-ant-changeme',
        GOOGLE_GEMINI_API_KEY: 'changeme',
        DEFAULT_LLM_PROVIDER: 'openai',
        DEFAULT_LLM_MODEL: 'gpt-4o',
      },
    },
    {
      name: 'web',
      cwd: '/home/ubuntu/cslai/apps/web',
      script: 'node',
      args: '.next/standalone/apps/web/server.js',
      env: {
        NODE_ENV: 'production',
        PORT: 3000,
        NEXT_PUBLIC_API_URL: 'https://api.cslai.corporatespec.com',
      },
    },
    {
      name: 'worker',
      cwd: '/home/ubuntu/cslai',
      script: 'node',
      args: 'apps/worker/dist/main.js',
      env: {
        NODE_ENV: 'production',
        DATABASE_URL: 'postgresql://intel:intel_dev_pass@localhost:5432/company_intel_dev?schema=public',
        REDIS_HOST: 'localhost',
        REDIS_PORT: 6379,
        REDIS_PASSWORD: '',
        REDIS_URL: 'redis://localhost:6379',
        ENCRYPTION_KEY: '432a7605fa4493d4220798a6ffd46f219970ea8cee8ad75a5822e676e2d59335',
        LLM_PROVIDER: 'openai',
        OPENAI_API_KEY: 'sk-changeme',
        OPENAI_MODEL: 'gpt-4o-mini',
        WORKER_CONCURRENCY: 5,
        LOG_LEVEL: 'info',
      },
    },
  ],
};
